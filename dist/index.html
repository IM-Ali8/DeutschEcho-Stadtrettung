<!DOCTYPE html>
<html lang="fa">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="theme-color" content="#050814">
    <link rel="manifest" href="./manifest.json">
    <link rel="apple-touch-icon" href="./icons/icon-180.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="HeroRescue">

    <title>Hero Rescue Shooter — Deutsch Echo</title>
    <link rel="icon" href="./icons/icon-192.png">
    <link rel="stylesheet" href="./style.css">

  </head>
    
  <body>
  <div class="wrap" dir="rtl">
  <header>
    <div class="titleBox">
      <h1>Hero Rescue Shooter</h1>
      <p>
        قهرمان پرواز می‌کنه، شلیک می‌کنه، با جواب درست “پرش اضافه” می‌گیره،
        مرحله‌به‌مرحله سخت‌تر می‌شه و آخر پرنسس رو نجات می‌ده — ساخته‌ی <b>Ali Moslehi</b>
      </p>
    </div>

    <div class="hudBox">
      <div class="hud">
        <div class="chip">مرحله: <b id="lvl">A1</b></div>
        <div class="chip">زمان: <b id="time">60</b>s</div>
        <div class="chip">امتیاز: <b id="score">0</b></div>
        <div class="chip">بهترین رکورد: <b id="best">0</b></div>
        <div class="chip">جون: <b id="hp">3</b></div>
        <div class="chip">پرش اضافه: <b id="jumps">0</b></div>
        <div class="chip">کلید: <b id="key">✖</b></div>
        <div class="chip">درستِ مرحله: <b id="c5">0</b>/5</div>
      </div>
    </div>
  </header>

  <div class="prompt">
    <div class="q">
      <span class="label">هدف (فارسی):</span>
      <span class="value" id="targetFa">برای شروع Enter یا کلیک</span>
    </div>

    <div class="row">
      <div class="kbds">
        <span class="kbd">← → حرکت</span>
        <span class="kbd">Space پرش</span>
        <span class="kbd">↑ پرواز</span>
        <span class="kbd">X شلیک</span>
        <span class="kbd">E باز کردن قفس</span>
        <span class="kbd">M موزیک</span>
        <span class="kbd">R ریست</span>
      </div>
    </div>
  </div>

  <canvas id="c" width="1200" height="560"></canvas>

  <div class="controls">
    <div class="btns">
      <button class="primary" id="startBtn">شروع / ریست</button>
      <button id="musicBtn">موزیک: خاموش</button>
    </div>
    <div id="msg">Enter یا کلیک برای شروع. (اول بازی یک معرفی کوتاه دارد)</div>
  </div>

  <!-- سوال بعد از نجات پرنسس -->
  <div class="choiceOverlay" id="choiceOverlay" aria-hidden="true">
    <div class="choiceCard">
      <div class="choiceTitle">Willst du zur nächsten Stufe gehen?</div>
      <div class="choiceSub">Ja → مرحله بعد | Nein → شروع از اول (A1)</div>
      <div class="choiceBtns">
        <button class="primary" id="yesBtn">Ja</button>
        <button id="noBtn">Nein</button>
      </div>
      <div class="choiceHint">کلیدها: Y = Ja ، N = Nein</div>
    </div>
  </div>
</div>
    <script  src="./script.js"></script>

  
  <script>
    // PWA offline cache
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker.register("./sw.js").catch(()=>{});
      });
    }
  </script>

</body>
  
</html>
